import{_ as d}from"./ValaxyMain.vue_vue_type_style_index_0_lang.CwGK2QKz.js";import"./chunks/@vueuse/motion.BsBBmBGk.js";import{d as m,a as k,u as g}from"./chunks/vue-router.DbYl_Vni.js";import{X as F,b_ as n,be as e,_ as s,a5 as a,bB as C,b3 as y,b5 as v}from"./framework.BXq2oTmp.js";import"./app.DaEmrGxP.js";import"./chunks/dayjs.C6BNYsUE.js";import"./chunks/vue-i18n.lfRrKsMF.js";import"./chunks/pinia.C_YCGfgp.js";import"./chunks/nprogress.DdFZ7jLs.js";import"./YunComment.vue_vue_type_style_index_0_lang.BQ4Fe32A.js";import"./index.dXt3ZyM3.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.DDanGzXB.js";import"./post.BW-oy4du.js";const f=m("/posts/calculation/install-vasp",async i=>JSON.parse('{"title":"VASP 安装与配置","description":"","frontmatter":{"title":"VASP 安装与配置","date":"2024-07-10 13:34:03","categories":"Calculation","tags":["VASP","WSL","Ubuntu"]},"headers":[],"relativePath":"pages/posts/calculation/install-vasp.md","lastUpdated":null}'),{lazy:(i,t)=>i.name===t.name}),R={__name:"install-vasp",setup(i,{expose:t}){var c;const{data:p}=f(),o=g(),u=k(),r=Object.assign(u.meta.frontmatter||{},((c=p.value)==null?void 0:c.frontmatter)||{});return o.currentRoute.value.data=p.value,v("valaxy:frontmatter",r),globalThis.$frontmatter=r,t({frontmatter:{title:"VASP 安装与配置",date:"2024-07-10 13:34:03",categories:"Calculation",tags:["VASP","WSL","Ubuntu"]}}),(l,h)=>{const b=d;return y(),F(b,{frontmatter:C(r)},{"main-content-md":n(()=>h[0]||(h[0]=[s("h2",{id:"环境",tabindex:"-1"},[a("环境 "),s("a",{class:"header-anchor",href:"#环境","aria-label":'Permalink to "环境"'},"​")],-1),s("ul",null,[s("li",null,"Windows11"),s("li",null,"wsl2"),s("li",null,"Ubuntu24.04")],-1),s("h2",{id:"安装-intel-编译器和开发环境",tabindex:"-1"},[a("安装 Intel 编译器和开发环境 "),s("a",{class:"header-anchor",href:"#安装-intel-编译器和开发环境","aria-label":'Permalink to "安装 Intel 编译器和开发环境"'},"​")],-1),s("h3",{id:"下载-base-toolkit",tabindex:"-1"},[a("下载 "),s("a",{href:"https://www.intel.com/content/www/us/en/developer/tools/oneapi/base-toolkit-download.html",target:"_blank",rel:"noreferrer"},"Base Toolkit"),a(),s("a",{class:"header-anchor",href:"#下载-base-toolkit","aria-label":'Permalink to "下载 [Base Toolkit](https://www.intel.com/content/www/us/en/developer/tools/oneapi/base-toolkit-download.html)"'},"​")],-1),s("div",{style:{"max-height":"300px"},class:"language-bash vp-adaptive-theme line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"wget"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," https://registrationcenter-download.intel.com/akdlm/IRC_NAS/9a98af19-1c68-46ce-9fdd-e249240c7c42/l_BaseKit_p_2024.2.0.634.sh")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sudo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," sh"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ./l_BaseKit_p_2024.2.0.634.sh")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 检验")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"ls"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /opt/intel/oneapi/compiler/2024.2.0")])])]),s("button",{class:"collapse"}),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br")])],-1),s("blockquote",null,[s("p",null,"只用安装 Intel oneAPI Math Kernel Library (MKL)")],-1),s("h3",{id:"下载-hpc-toolkit",tabindex:"-1"},[a("下载 "),s("a",{href:"https://www.intel.com/content/www/us/en/developer/tools/oneapi/hpc-toolkit-download.html",target:"_blank",rel:"noreferrer"},"HPC Toolkit"),a(),s("a",{class:"header-anchor",href:"#下载-hpc-toolkit","aria-label":'Permalink to "下载 [HPC Toolkit](https://www.intel.com/content/www/us/en/developer/tools/oneapi/hpc-toolkit-download.html)"'},"​")],-1),s("div",{style:{"max-height":"300px"},class:"language-bash vp-adaptive-theme line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"wget"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," https://registrationcenter-download.intel.com/akdlm/IRC_NAS/d4e49548-1492-45c9-b678-8268cb0f1b05/l_HPCKit_p_2024.2.0.635.sh")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sudo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," sh"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ./l_HPCKit_p_2024.2.0.635.sh")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 检验")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"ls"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /opt/intel/oneapi/compiler/2024.2.0")])])]),s("button",{class:"collapse"}),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br")])],-1),s("h3",{id:"下载-cuda-toolkit",tabindex:"-1"},[a("下载 "),s("a",{href:"https://developer.nvidia.com/cuda-downloads",target:"_blank",rel:"noreferrer"},"CUDA Toolkit"),a(),s("a",{class:"header-anchor",href:"#下载-cuda-toolkit","aria-label":'Permalink to "下载 [CUDA Toolkit](https://developer.nvidia.com/cuda-downloads)"'},"​")],-1),s("div",{style:{"max-height":"300px"},class:"language-bash vp-adaptive-theme line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"wget"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2404/x86_64/cuda-keyring_1.1-1_all.deb")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sudo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," dpkg"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -i"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," cuda-keyring_1.1-1_all.deb")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sudo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," apt-get"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," update")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sudo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," apt-get"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -y"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," install"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," cuda-toolkit-12-5")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 检验")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"ls"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /usr/local/cuda")])])]),s("button",{class:"collapse"}),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br"),s("span",{class:"line-number"},"6"),s("br")])],-1),s("h3",{id:"编译",tabindex:"-1"},[a("编译 "),s("a",{class:"header-anchor",href:"#编译","aria-label":'Permalink to "编译"'},"​")],-1),s("div",{style:{"max-height":"300px"},class:"language-bash vp-adaptive-theme line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"cd"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /opt/intel/oneapi/mkl/2024.2/share/mkl/interfaces/fftw3xf")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sudo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," su")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"source"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /opt/intel/oneapi/setvars.sh")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"make"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," libintel64")])])]),s("button",{class:"collapse"}),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br")])],-1),s("h3",{id:"添加环境变量",tabindex:"-1"},[a("添加环境变量 "),s("a",{class:"header-anchor",href:"#添加环境变量","aria-label":'Permalink to "添加环境变量"'},"​")],-1),s("div",{style:{"max-height":"300px"},class:"language-bash vp-adaptive-theme line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"vim"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ~/.bashrc")])])]),s("button",{class:"collapse"}),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br")])],-1),s("div",{style:{"max-height":"300px"},class:"language-txt vp-adaptive-theme line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"txt"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"export PATH=/usr/local/cuda/bin:$PATH")]),a(`
`),s("span",{class:"line"},[s("span",null,"export LD_LIBRARY_PATH=/usr/local/cuda/lib64:$LD_LIBRARY_PATH")]),a(`
`),s("span",{class:"line"},[s("span",null,"export C_INCLUDE_PATH=/usr/local/cuda/include:$C_INCLUDE_PATH")]),a(`
`),s("span",{class:"line"},[s("span",null,"source /opt/intel/oneapi/setvars.sh --force > /dev/null 2>&1")])])]),s("button",{class:"collapse"}),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br")])],-1),s("div",{style:{"max-height":"300px"},class:"language-bash vp-adaptive-theme line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"source"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ~/.bashrc")])])]),s("button",{class:"collapse"}),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br")])],-1),s("h2",{id:"安装-vasp",tabindex:"-1"},[a("安装 "),s("a",{href:"https://www.vasp.at/",target:"_blank",rel:"noreferrer"},"Vasp"),a(),s("a",{class:"header-anchor",href:"#安装-vasp","aria-label":'Permalink to "安装 [Vasp](https://www.vasp.at/)"'},"​")],-1),s("h3",{id:"解压-vasp",tabindex:"-1"},[a("解压 Vasp "),s("a",{class:"header-anchor",href:"#解压-vasp","aria-label":'Permalink to "解压 Vasp"'},"​")],-1),s("div",{style:{"max-height":"300px"},class:"language-bash vp-adaptive-theme line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"tar"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," zvxf"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," vasp.6.x.x.tar.gz"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -C"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /opt")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"cd"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /opt/vasp.6.x.x/")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"cp"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ./arch/makefile.include.linux_intel"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ../makefile.include")])])]),s("button",{class:"collapse"}),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br")])],-1),s("h3",{id:"修改makefile-include",tabindex:"-1"},[a("修改"),s("code",null,"makefile.include"),a(),s("a",{class:"header-anchor",href:"#修改makefile-include","aria-label":'Permalink to "修改`makefile.include`"'},"​")],-1),s("div",{style:{"max-height":"300px"},class:"language-txt vp-adaptive-theme line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"txt"),s("pre",{class:"shiki shiki-themes github-light github-dark has-diff vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"# Default precompiler options")]),a(`
`),s("span",{class:"line"},[s("span",null,'CPP_OPTIONS = -DHOST=\\"LinuxIFC\\" \\')]),a(`
`),s("span",{class:"line"},[s("span",null,"              -DMPI -DMPI_BLOCK=8000 -Duse_collective \\")]),a(`
`),s("span",{class:"line"},[s("span",null,"              -DscaLAPACK \\")]),a(`
`),s("span",{class:"line"},[s("span",null,"              -DCACHE_SIZE=4000 \\")]),a(`
`),s("span",{class:"line"},[s("span",null,"              -Davoidalloc \\")]),a(`
`),s("span",{class:"line"},[s("span",null,"              -Dvasp6 \\")]),a(`
`),s("span",{class:"line"},[s("span",null,"              -Duse_bse_te \\")]),a(`
`),s("span",{class:"line"},[s("span",null,"              -Dtbdyn \\")]),a(`
`),s("span",{class:"line"},[s("span",null,"              -Dfock_dblbuf")]),a(`
`),s("span",{class:"line"},[s("span")]),a(`
`),s("span",{class:"line"},[s("span",null,"CPP         = fpp -f_com=no -free -w0  $*$(FUFFIX) $*$(SUFFIX) $(CPP_OPTIONS)")]),a(`
`),s("span",{class:"line"},[s("span")]),a(`
`),s("span",{class:"line"},[s("span",null,"FC          = mpiifort -fc=ifx  // [!code --]")]),a(`
`),s("span",{class:"line"},[s("span",null,"FC          = mpiifort          // [!code ++]")]),a(`
`),s("span",{class:"line"},[s("span",null,"FCL         = mpiifort -fc=ifx  // [!code --]")]),a(`
`),s("span",{class:"line"},[s("span",null,"FCL         = mpiifort          // [!code ++]")]),a(`
`),s("span",{class:"line"},[s("span")]),a(`
`),s("span",{class:"line"},[s("span",null,"FREE        = -free -names lowercase")]),a(`
`),s("span",{class:"line"},[s("span")]),a(`
`),s("span",{class:"line"},[s("span",null,"FFLAGS      = -assume byterecl -w")]),a(`
`),s("span",{class:"line"},[s("span")]),a(`
`),s("span",{class:"line"},[s("span",null,"OFLAG       = -O2")]),a(`
`),s("span",{class:"line"},[s("span",null,"OFLAG_IN    = $(OFLAG)")]),a(`
`),s("span",{class:"line"},[s("span",null,"DEBUG       = -O0")]),a(`
`),s("span",{class:"line"},[s("span")]),a(`
`),s("span",{class:"line"},[s("span",null,"OBJECTS     = fftmpiw.o fftmpi_map.o fftw3d.o fft3dlib.o")]),a(`
`),s("span",{class:"line"},[s("span",null,"OBJECTS_O1 += fftw3d.o fftmpi.o fftmpiw.o")]),a(`
`),s("span",{class:"line"},[s("span",null,"OBJECTS_O2 += fft3dlib.o")]),a(`
`),s("span",{class:"line"},[s("span")]),a(`
`),s("span",{class:"line"},[s("span",null,"# For what used to be vasp.5.lib")]),a(`
`),s("span",{class:"line"},[s("span",null,"CPP_LIB     = $(CPP)")]),a(`
`),s("span",{class:"line"},[s("span",null,"FC_LIB      = $(FC)")]),a(`
`),s("span",{class:"line"},[s("span",null,"CC_LIB      = icx")]),a(`
`),s("span",{class:"line"},[s("span",null,"CFLAGS_LIB  = -O")]),a(`
`),s("span",{class:"line"},[s("span",null,"FFLAGS_LIB  = -O1")]),a(`
`),s("span",{class:"line"},[s("span",null,"FREE_LIB    = $(FREE)")]),a(`
`),s("span",{class:"line"},[s("span")]),a(`
`),s("span",{class:"line"},[s("span",null,"OBJECTS_LIB = linpack_double.o")]),a(`
`),s("span",{class:"line"},[s("span")]),a(`
`),s("span",{class:"line"},[s("span",null,"# For the parser library")]),a(`
`),s("span",{class:"line"},[s("span",null,"CXX_PARS    = icpx")]),a(`
`),s("span",{class:"line"},[s("span",null,"LLIBS       = -lstdc++")]),a(`
`),s("span",{class:"line"},[s("span")]),a(`
`),s("span",{class:"line"},[s("span",null,"##")]),a(`
`),s("span",{class:"line"},[s("span",null,"## Customize as of this point! Of course you may change the preceding")]),a(`
`),s("span",{class:"line"},[s("span",null,"## part of this file as well if you like, but it should rarely be")]),a(`
`),s("span",{class:"line"},[s("span",null,"## necessary ...")]),a(`
`),s("span",{class:"line"},[s("span",null,"##")]),a(`
`),s("span",{class:"line"},[s("span")]),a(`
`),s("span",{class:"line"},[s("span",null,"# When compiling on the target machine itself, change this to the")]),a(`
`),s("span",{class:"line"},[s("span",null,"# relevant target when cross-compiling for another architecture")]),a(`
`),s("span",{class:"line"},[s("span",null,"VASP_TARGET_CPU ?= -xHOST")]),a(`
`),s("span",{class:"line"},[s("span",null,"FFLAGS     += $(VASP_TARGET_CPU)")]),a(`
`),s("span",{class:"line"},[s("span")]),a(`
`),s("span",{class:"line"},[s("span",null,"# Intel MKL (FFTW, BLAS, LAPACK, and scaLAPACK)")]),a(`
`),s("span",{class:"line"},[s("span",null,"# (Note: for Intel Parallel Studio's MKL use -mkl instead of -qmkl)")]),a(`
`),s("span",{class:"line"},[s("span",null,"FCL        += -qmkl=sequential")]),a(`
`),s("span",{class:"line"},[s("span",null,"MKLROOT    ?= /path/to/your/mkl/installation")]),a(`
`),s("span",{class:"line"},[s("span",null,"LLIBS      += -L$(MKLROOT)/lib/intel64 -lmkl_scalapack_lp64 -lmkl_blacs_intelmpi_lp64")]),a(`
`),s("span",{class:"line"},[s("span",null,"INCS        =-I$(MKLROOT)/include/fftw")]),a(`
`),s("span",{class:"line"},[s("span")]),a(`
`),s("span",{class:"line"},[s("span",null,"# HDF5-support (optional but strongly recommended)")]),a(`
`),s("span",{class:"line"},[s("span",null,"#CPP_OPTIONS+= -DVASP_HDF5")]),a(`
`),s("span",{class:"line"},[s("span",null,"#HDF5_ROOT  ?= /path/to/your/hdf5/installation")]),a(`
`),s("span",{class:"line"},[s("span",null,"#LLIBS      += -L$(HDF5_ROOT)/lib -lhdf5_fortran")]),a(`
`),s("span",{class:"line"},[s("span",null,"#INCS       += -I$(HDF5_ROOT)/include")]),a(`
`),s("span",{class:"line"},[s("span")]),a(`
`),s("span",{class:"line"},[s("span",null,"# For the VASP-2-Wannier90 interface (optional)")]),a(`
`),s("span",{class:"line"},[s("span",null,"#CPP_OPTIONS    += -DVASP2WANNIER90")]),a(`
`),s("span",{class:"line diff remove"},[s("span",null,"#WANNIER90_ROOT ?= /path/to/your/wannier90/installation")]),a(`
`),s("span",{class:"line"},[s("span",null,"WANNIER90_ROOT ?= /opt/wannier90-3.1.0  // [!code ++]")]),a(`
`),s("span",{class:"line diff remove"},[s("span",null,"#LLIBS          += -L$(WANNIER90_ROOT)/lib -lwannier")]),a(`
`),s("span",{class:"line"},[s("span",null,"LLIBS          += -L$(WANNIER90_ROOT)/lwannier90.a   // [!code ++]")])])]),s("button",{class:"collapse"}),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br"),s("span",{class:"line-number"},"3"),s("br"),s("span",{class:"line-number"},"4"),s("br"),s("span",{class:"line-number"},"5"),s("br"),s("span",{class:"line-number"},"6"),s("br"),s("span",{class:"line-number"},"7"),s("br"),s("span",{class:"line-number"},"8"),s("br"),s("span",{class:"line-number"},"9"),s("br"),s("span",{class:"line-number"},"10"),s("br"),s("span",{class:"line-number"},"11"),s("br"),s("span",{class:"line-number"},"12"),s("br"),s("span",{class:"line-number"},"13"),s("br"),s("span",{class:"line-number"},"14"),s("br"),s("span",{class:"line-number"},"15"),s("br"),s("span",{class:"line-number"},"16"),s("br"),s("span",{class:"line-number"},"17"),s("br"),s("span",{class:"line-number"},"18"),s("br"),s("span",{class:"line-number"},"19"),s("br"),s("span",{class:"line-number"},"20"),s("br"),s("span",{class:"line-number"},"21"),s("br"),s("span",{class:"line-number"},"22"),s("br"),s("span",{class:"line-number"},"23"),s("br"),s("span",{class:"line-number"},"24"),s("br"),s("span",{class:"line-number"},"25"),s("br"),s("span",{class:"line-number"},"26"),s("br"),s("span",{class:"line-number"},"27"),s("br"),s("span",{class:"line-number"},"28"),s("br"),s("span",{class:"line-number"},"29"),s("br"),s("span",{class:"line-number"},"30"),s("br"),s("span",{class:"line-number"},"31"),s("br"),s("span",{class:"line-number"},"32"),s("br"),s("span",{class:"line-number"},"33"),s("br"),s("span",{class:"line-number"},"34"),s("br"),s("span",{class:"line-number"},"35"),s("br"),s("span",{class:"line-number"},"36"),s("br"),s("span",{class:"line-number"},"37"),s("br"),s("span",{class:"line-number"},"38"),s("br"),s("span",{class:"line-number"},"39"),s("br"),s("span",{class:"line-number"},"40"),s("br"),s("span",{class:"line-number"},"41"),s("br"),s("span",{class:"line-number"},"42"),s("br"),s("span",{class:"line-number"},"43"),s("br"),s("span",{class:"line-number"},"44"),s("br"),s("span",{class:"line-number"},"45"),s("br"),s("span",{class:"line-number"},"46"),s("br"),s("span",{class:"line-number"},"47"),s("br"),s("span",{class:"line-number"},"48"),s("br"),s("span",{class:"line-number"},"49"),s("br"),s("span",{class:"line-number"},"50"),s("br"),s("span",{class:"line-number"},"51"),s("br"),s("span",{class:"line-number"},"52"),s("br"),s("span",{class:"line-number"},"53"),s("br"),s("span",{class:"line-number"},"54"),s("br"),s("span",{class:"line-number"},"55"),s("br"),s("span",{class:"line-number"},"56"),s("br"),s("span",{class:"line-number"},"57"),s("br"),s("span",{class:"line-number"},"58"),s("br"),s("span",{class:"line-number"},"59"),s("br"),s("span",{class:"line-number"},"60"),s("br"),s("span",{class:"line-number"},"61"),s("br"),s("span",{class:"line-number"},"62"),s("br"),s("span",{class:"line-number"},"63"),s("br"),s("span",{class:"line-number"},"64"),s("br"),s("span",{class:"line-number"},"65"),s("br"),s("span",{class:"line-number"},"66"),s("br"),s("span",{class:"line-number"},"67"),s("br"),s("span",{class:"line-number"},"68"),s("br"),s("span",{class:"line-number"},"69"),s("br"),s("span",{class:"line-number"},"70"),s("br"),s("span",{class:"line-number"},"71"),s("br"),s("span",{class:"line-number"},"72"),s("br"),s("span",{class:"line-number"},"73"),s("br"),s("span",{class:"line-number"},"74"),s("br")])],-1),s("h3",{id:"修改lex-yy-c",tabindex:"-1"},[a("修改"),s("code",null,"lex.yy.c"),a(),s("a",{class:"header-anchor",href:"#修改lex-yy-c","aria-label":'Permalink to "修改`lex.yy.c`"'},"​")],-1),s("div",{style:{"max-height":"300px"},class:"language-bash vp-adaptive-theme line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"vim"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /opt/vasp.6.x.x/src/parser/lex.yy.c")])])]),s("button",{class:"collapse"}),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br")])],-1),s("div",{style:{"max-height":"300px"},class:"language-vim vp-adaptive-theme line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"vim"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":%s"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"/\\<register\\>/"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"/g")])])]),s("button",{class:"collapse"}),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br")])],-1),s("blockquote",null,[s("p",null,[a("由于 C++17 标准中已经废弃了"),s("code",null,"register"),a("关键字，所以需要将 lex.yy.c 中的"),s("code",null,"register"),a("关键字删除")])],-1),s("h3",{id:"编译-1",tabindex:"-1"},[a("编译 "),s("a",{class:"header-anchor",href:"#编译-1","aria-label":'Permalink to "编译"'},"​")],-1),s("div",{style:{"max-height":"300px"},class:"language-bash vp-adaptive-theme line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"make"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," veryclean")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"make"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," all")])])]),s("button",{class:"collapse"}),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br")])],-1),s("h3",{id:"测试",tabindex:"-1"},[a("测试 "),s("a",{class:"header-anchor",href:"#测试","aria-label":'Permalink to "测试"'},"​")],-1),s("div",{style:{"max-height":"300px"},class:"language-bash vp-adaptive-theme line-numbers-mode"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"make"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," test")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"make"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," test_all")])])]),s("button",{class:"collapse"}),s("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[s("span",{class:"line-number"},"1"),s("br"),s("span",{class:"line-number"},"2"),s("br")])],-1),s("h2",{id:"参考",tabindex:"-1"},[a("参考 "),s("a",{class:"header-anchor",href:"#参考","aria-label":'Permalink to "参考"'},"​")],-1),s("ul",null,[s("li",null,[s("a",{href:"https://www.vasp.at/",target:"_blank",rel:"noreferrer"},"Vasp")]),s("li",null,[s("a",{href:"https://www.intel.com/content/www/us/en/developer/tools/oneapi/toolkits.html",target:"_blank",rel:"noreferrer"},"Intel Toolkits")]),s("li",null,[s("a",{href:"https://developer.nvidia.com/cuda-downloads",target:"_blank",rel:"noreferrer"},"Cuda")]),s("li",null,[s("a",{href:"https://www.bilibili.com/video/BV1rT4y1k785",target:"_blank",rel:"noreferrer"},"VASP 安装-从操作系统到程序编译全过程")]),s("li",null,[s("a",{href:"https://www.vasp.at/wiki/index.php/Makefile.include.oneapi",target:"_blank",rel:"noreferrer"},"makefile.include.oneapi")])],-1)])),"main-header":n(()=>[e(l.$slots,"main-header")]),"main-header-after":n(()=>[e(l.$slots,"main-header-after")]),"main-nav":n(()=>[e(l.$slots,"main-nav")]),"main-content-before":n(()=>[e(l.$slots,"main-content-before")]),"main-content":n(()=>[e(l.$slots,"main-content")]),"main-content-after":n(()=>[e(l.$slots,"main-content-after")]),"main-nav-before":n(()=>[e(l.$slots,"main-nav-before")]),"main-nav-after":n(()=>[e(l.$slots,"main-nav-after")]),comment:n(()=>[e(l.$slots,"comment")]),footer:n(()=>[e(l.$slots,"footer")]),aside:n(()=>[e(l.$slots,"aside")]),"aside-custom":n(()=>[e(l.$slots,"aside-custom")]),default:n(()=>[e(l.$slots,"default")]),_:3},8,["frontmatter"])}}};export{R as default,f as usePageData};
