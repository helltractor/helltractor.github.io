import{u as L}from"./chunks/nprogress.Do6qArWV.js";import{M as D,x as C,a0 as $,a4 as r,a3 as o,a7 as t,O as b,v as F,w as V,a1 as A,a2 as S,a9 as _,ag as B,a8 as N,a5 as O,W as g,Q as w,aa as p,ah as h,aj as P,U as d}from"./framework.BKlXavfA.js";import{b as R,_ as j,n as I,i as M}from"./app.BTXeQvet.js";import{u as q}from"./chunks/vue-router.C_UGPTuO.js";import"./chunks/dayjs.BeL6d4wv.js";import"./chunks/pinia.DlD3bL4k.js";import"./chunks/vue-i18n.DVmFIX_F.js";function W(f,s){const e=R(),m=D([]),v=C(()=>{const i=e.value.fuse.options.keys||[];return i.length===0?["title","tags","categories","excerpt"]:i}),c={fuseOptions:{includeMatches:!0,findAllMatches:!0,...e.value.fuse.options,keys:v.value}},n=C(()=>({...c,...s})),{fuse:k,results:l}=L(f,m,n);async function x(i){const y=i||(e.value.fuse.dataPath.startsWith("http")?e.value.fuse.dataPath:`/${e.value.fuse.dataPath}`),u=await(await fetch(y)).json();Array.isArray(u)&&(m.value=u)}return{fuse:k,results:l,fetchFuseListData:x}}const E={},Q={class:"mashiro-dots"};function T(f,s){return o(),r("div",Q,s[0]||(s[0]=[t("span",null,null,-1),t("span",null,null,-1),t("span",null,null,-1)]))}const U=$(E,[["render",T],["__scopeId","data-v-124ff687"]]),z={class:"sakura-search mt-20"},G={class:"page-header"},H={class:"page-title"},J={key:0,overflow:"auto",flex:"~",w:"full"},K={class:"sakura-search-result post post-list",flex:"~ col",w:"full"},X={class:"feature"},Y={class:"ml-9 flex-grow"},Z={flex:"~",class:"items-center justify-between"},tt={class:"sakura-search-result-title entry-title"},et={class:"p-time flex items-center"},st={class:"sakura-search-result-excerpt"},at={class:"post-more"},ot=b({__name:"SakuraSearchLayout",setup(f){const s=F(),{results:e,fetchFuseListData:m}=W(s),v=q();return V(()=>v.query.q,c=>{M&&m(),s.value=c||""},{immediate:!0}),(c,n)=>{const k=I,l=j,x=U,i=A("RouterView");return o(),S(i,null,{default:_(({Component:y})=>[(o(),S(B(y),null,{"main-content":_(()=>[N(c.$slots,"content",{},()=>[t("div",z,[t("header",G,[t("h1",H,[g(e).length>0?(o(),r(w,{key:0},[p(" 搜索结果: "+h(s.value),1)],64)):(o(),r(w,{key:1},[p(" 没有找到任何东西！ ")],64))])]),g(e).length>0?(o(),r("div",J,[t("div",K,[(o(!0),r(w,null,P(g(e),a=>(o(),r("div",{key:a.item.title,class:"post-entry",flex:"~"},[d(l,{to:a.item.link},{default:_(()=>{var u;return[t("div",X,[n[0]||(n[0]=t("div",{class:"flex-center overlay"},[t("div",{"i-fa-file-text-o":""})],-1)),d(k,{src:(u=a.item)==null?void 0:u.cover,class:"h-full rounded-full"},null,8,["src"])])]}),_:2},1032,["to"]),t("div",Y,[t("div",Z,[t("h3",tt,[d(l,{to:a.item.link},{default:_(()=>[p(h(a.item.title),1)]),_:2},1032,["to"])]),t("div",et,[n[1]||(n[1]=t("span",{"i-mdi-access-time":"",class:"mr-1 inline-flex"},null,-1)),p(" 发布于 "+h(a.item.date),1)])]),t("p",st,h(a.item.excerpt),1),t("div",at,[d(l,{to:a.item.link},{default:_(()=>[d(x,{class:"float-right mt-10px"})]),_:2},1032,["to"])]),n[2]||(n[2]=t("hr",{w:"1/3",class:"mx-auto mb-62px mt-69px",border:"~ $sakura-color-divider"},null,-1))])]))),128))])])):O("v-if",!0)])],!0)]),_:2},1024))]),_:3})}}}),nt=$(ot,[["__scopeId","data-v-dd4bd9fb"]]),it={};function rt(f,s){const e=nt;return o(),S(e)}const pt=$(it,[["render",rt]]);export{pt as default};
